# 6.4.0

## Added

* Added a `discardConfirmationClosure` property to `PhotoEditViewControllerOptions` that is called when tapping the cancel button while changes are applied to the image.
* Zooming is now enabled in all tools except for the focus tool.

## Changed

* The overlay buttons (i.e. undo, redo, etc.) in the sticker, text and brush tool have been moved to the bottom.
* `StickerTintMode.tint` has been renamed to `StickerTintMode.solid`.
* `StickerTintMode.ink` has been renamed to `StickerTintMode.colorized`.
* When adding long text the created label breaks the text into multiple lines if the font size would be too small otherwise.
* `IMGLYSetLocalizationDictionary` has been replaced by `PESDK.localizationDirectory`.
* `IMGLYSetLocalizationBlock` has been replaced by `PESDK.localizationBlock`.
* `IMGLYSetBundleImageBlock` has been replaced by `PESDK.bundleImageBlock`.

## Fixed

* `DefaultProgressView` was not positioned correctly when used in an iPad Split View environment.
* The menu collection views were not positioned correctly when used in an iPad Split View environment. 

# 6.3.1

## Fixed

* Fixed warnings that are generated by SwiftLint 0.16.1.
* Moved the overlay image generation to a background queue, so that the progress view appears immediately when the user taps the save button.
* Fixed an ambiguous constraints warning in `CameraViewController`.
* Fixed an issue where the loading progress view would disappear while presenting the editor.

# 6.3.0

## Added

* Added an option to change the default color of newly added text (see `TextToolControllerOptions.defaultTextColor`).
* A progress view is displayed while generating the preview image now.
* Tinting of stickers can be enabled on a per sticker basis (see `Sticker.tintMode`).
* Crop Aspect Ratios can be rotated by tapping on an already selected crop aspect (see `CropAspect.isRotatable`).

## Changed

* Changed the default icon of the transform tool.
* The magic tool displays a selected state when active.
* The `.straighten` option has been removed from the default options of `TextOptionsToolController` and `StickerOptionsToolController`.
* The `.flip` option has been removed from the default options of `TextOptionsToolController`.
* The alignment, bring to front, straighten and flip buttons within `TextOptionsToolController` were moved from an overlay into the menu.
* When resizing text the bounding box of the text becomes wider along with the font size.
* While the `BrushColorToolController` is active the user can continue to paint in the canvas.
* Editing text works by just single tapping on an already selected label instead of long pressing.
* The delete button within the brush tool was moved to the top, the bring to front button was moved from an overlay into the menu.
* The flip, straighten and bring to front buttons within `StickerOptionsToolController` were moved from an overlay into the menu.

## Fixed

* Fixed a crash that occurred when opening the transform tool very quickly after presenting the editor.
* Fixed an issue with the brush tool that occurred when opening the brush very quickly after presenting the editor.
* Fixed an issue where the progress view would not disappear when tapping the save button.
* Fixed an issue regarding the frame tool and rotated images.
* Fixed a bug where a crop would sometimes be applied although the user tapped the cancel button.
* When changing a text the changes are reflected in the label while typing.
* Fixed a crash in `CameraController`.

# 6.2.0

## Added

* Support for wide color images. More information is available [here](https://medium.com/imgly/bringing-wide-color-to-photoeditor-sdk-a6ce8bb19ef7#.1nw0egenf).
* Added redo support and optimized undo support. Each time the sticker, text or brush tool is openend, a new undo/redo stack is created and local changes within those tools can be un- and redone. The `PhotoEditViewController` also has support for undo and redo and performs all undo or redo operations of the tools mentioned above combined, either step by step or tool by tool (see `PhotoEditViewControllerOptions.undoStepByStep`).

## Changed

* `M_PI` has been replaced by `.pi`, `FLT_EPSILON` has been replaced by `.ulpOfOne`
* Adding a new sticker from within the `StickerOptionsToolController` now opens the already instantiated `StickerToolController` that was passed to `PhotoEditViewController` instead of creating a new instance.
* The blur radius specified in the `FocusToolController` is now relative to the smaller side of the image instead of an absolute value, which means that the final output image looks like the preview image. 

## Fixed

* Fixed a crash that occurred when setting `CameraViewControllerOptions.showFilters` to `false`.

# 6.1.4

## Fixed

* Fixed a crash in `CameraViewController`.
* The `photoActionButtonConfigurationClosure` closure was not called initially.
* Changing the `tintColor` of the button to take a photo works now.

# 6.1.3

## Added

* Added default intensities for blend modes.

## Changed

* Changed some `enum`s to lower case to match Swift 3.0 naming conventions.

## Fixed

* Fixed a memory leak in `CameraViewController`.
* Fixed a memory leak in `FrameToolController`.
* Fixed a scaling issue for backdrop images.
* Fixed the Podspec so that the resource bundle is not added twice to projects that use CocoaPods to integrate the SDK.

# 6.1.2

## Added

* A new API to integrate the SDK into your analytics. See `AnalyticsClient` and `PESDK.shared.analytics` for more details.
* Added an option to set a backdrop image (`backdropImage`), a blend mode (`backdropBlendMode`) and an intensity (`backdropIntensity`) for it to `PhotoEditModel`.

# 6.1.1

## Fixed

* Fixed a bug regarding image orientation that occured when saving an unedited image. The image that was passed to `PhotoEditViewController` is now passed back to the delegate untouched when saving and image without any modifications.

# 6.1.0

## Added

* Dynamic frames, which are generated during runtime and adjust to the image based on a given set of rules, similar to 9-patch images. See `CustomPatchFrameBuilder` for more information.

## Changed

* Frames participate in the bring-to-front behavior so that stickers, text and brush can be moved behind or in front of frames.
* Licensing has been improved to support multiple bundle identifiers within one license.

# 6.0.1

## Added

* Licensing

# 6.0

## Added

* Stickers can be grouped into individual categories and their color can be changed by the user.
* New initializers for `PhotoEditViewController`: `init(data: Data)`, `init(data: Data, configuration: Configuration)` and `init(data: Data, menuItems: [MenuItem], configuration: Configuration)` which allow passing an image as data in which case EXIF information can be preserved.
* `PhotoEditModel` is a Swift `struct` now. When using Objective-C you can use `IMGLYBoxedPhotoEditModel` instead where needed.

## Changed

* The crop UI has been completely revised and supports arbitrary rotations now.
* Updated the UI of the focus tool so that the user can change the width of the focus gradient.
* Updated the overall look and feel of the UI.
* Custom fonts can be added to the SDK.
* Many performance improvements.
* Asset datasources support remote sources out of the box now.
